<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 1: Narrativa Gamificada - Academia Makers</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ESTILOS GLOBALES ESTANDARIZADOS */
        :root { 
            --sena-green: #39A900; 
            --sena-blue: #00324D; 
            --sena-orange: #FF6C00; 
            --bg-body: #F4F6F9; 
            --bg-card: #FFFFFF; 
            --text-gray: #59667a; 
            --shadow: 0 4px 20px rgba(0,0,0,0.05); 
            --radius: 12px; 
            --menu-width: 320px; 
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--bg-body); color: var(--sena-blue); line-height: 1.6; min-height: 100vh; display: flex; flex-direction: column; }
        
        header { 
        background-color: var(--bg-card); 
        padding: 0.5rem 2rem; /* Reducido el padding vertical */
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        box-shadow: 0 2px 10px rgba(0,0,0,0.05); 
        z-index: 100;
        height: 70px; /* Altura fija para control total */
    }
    
    .header-left { 
        display: flex; 
        align-items: center; 
        gap: 20px; 
        height: 100%;
    }

    /* Tamaño corregido para los logos */
    header img { 
        height: 45px; /* Tamaño optimizado para barra superior */
        width: auto; 
        object-fit: contain; 
    }

    .back-btn { 
        text-decoration: none; 
        color: var(--sena-blue); 
        font-weight: bold; 
        display: flex; 
        align-items: center; 
        gap: 10px; 
        transition: color 0.3s;
        font-size: 0.9rem;
    }
    .back-btn:hover { color: var(--sena-orange); }
        .back-btn { text-decoration: none; color: var(--sena-blue); font-weight: bold; display: flex; align-items: center; gap: 10px; transition: color 0.3s; }
        .back-btn:hover { color: var(--sena-orange); }

        /* LAYOUT */
        .main-layout { display: flex; flex: 1; max-width: 1400px; margin: 2rem auto; gap: 2rem; width: 100%; padding: 0 20px; }
        
        /* SIDEBAR CON INSIGNIAS */
        .sidebar { width: var(--menu-width); background: var(--bg-card); border-radius: var(--radius); box-shadow: var(--shadow); padding: 1.5rem; height: fit-content; position: sticky; top: 2rem; }
        .sidebar h3 { font-family: 'Montserrat'; color: var(--sena-green); margin-bottom: 1.5rem; border-bottom: 2px solid #eee; padding-bottom: 10px; text-align: center; }
        
	/* Estilos para la barra de progreso en el menú */
.progress-container {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid #eee;
}

.progress-label {
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--sena-blue);
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.progress-bar-bg {
    width: 100%;
    height: 10px;
    background: #e2e8f0;
    border-radius: 10px;
    overflow: hidden;
}

.progress-bar-fill {
    width: 0%; /* Empezará en 0 */
    height: 100%;
    background: linear-gradient(90deg, var(--sena-green), #4ade80);
    transition: width 0.5s ease-in-out;
}
        .menu-item { display: flex; align-items: center; gap: 12px; padding: 10px 15px; margin-bottom: 8px; border-radius: 8px; cursor: pointer; transition: all 0.3s; color: var(--text-gray); font-weight: 500; border: 1px solid transparent; }
        .menu-item img { width: 30px; height: 30px; object-fit: contain; }
        .menu-item:hover { background: #f0fdf4; color: var(--sena-green); border-color: #dcfce7; }
        .menu-item.active { background: var(--sena-green); color: white; box-shadow: 0 4px 10px rgba(57, 169, 0, 0.3); }
        .menu-item.completed { border-right: 4px solid var(--sena-green); }

        /* CONTENIDO */
        .content-area { flex: 1; background: var(--bg-card); border-radius: var(--radius); box-shadow: var(--shadow); padding: 2.5rem; position: relative; }
        .activity-section { display: none; animation: fadeIn 0.5s ease; }
        .activity-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .section-header h2 { font-family: 'Montserrat'; color: var(--sena-blue); font-size: 1.8rem; margin-bottom: 1.5rem; text-align: center; }
        
        /* CARDS Y TABLAS */
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
        .info-card-mini { background: #f8fafc; padding: 15px; border-radius: 8px; border-top: 3px solid var(--sena-orange); font-size: 0.9rem; }
        .info-card-mini strong { display: block; color: var(--sena-blue); margin-bottom: 5px; }

        /* NARRATIVA VISUAL */
        .character-box { display: flex; align-items: center; gap: 20px; background: #e0f2fe; padding: 20px; border-radius: var(--radius); margin-bottom: 2rem; border-left: 5px solid #0ea5e9; }
        .character-box img { width: 120px; height: auto; animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .speech-bubble { background: white; padding: 15px; border-radius: 15px; position: relative; font-style: italic; font-weight: 500; flex: 1; }

        /* MISIONES GRID */
        .mission-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .mission-card { border: 1px solid #eee; border-radius: 12px; padding: 1.5rem; transition: 0.3s; position: relative; overflow: hidden; }
        .mission-card:hover { transform: scale(1.03); border-color: var(--sena-orange); box-shadow: var(--shadow); }
        .mission-badge { position: absolute; top: -10px; right: -10px; width: 60px; opacity: 0.2; }

        /* SOPA DE LETRAS */
        .wordsearch-container { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 2rem; }
        #grid { display: grid; grid-template-columns: repeat(10, 35px); gap: 5px; background: var(--sena-blue); padding: 10px; border-radius: 8px; }
        .cell { width: 35px; height: 35px; background: white; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; user-select: none; border-radius: 4px; transition: 0.2s; }
        .cell.selected { background: var(--sena-orange); color: white; }
        .cell.found { 
    background: var(--sena-green) !important; 
    color: white !important; 
    transition: 0.3s;
}
        .word-list { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .word-item { padding: 5px 15px; background: #eee; border-radius: 20px; font-size: 0.85rem; }
        .word-item.found { text-decoration: line-through; opacity: 0.5; background: #dcfce7; }

        /* NAVEGACIÓN */
        .nav-controls { 
    display: flex; 
    justify-content: center; 
    gap: 30px; 
    margin-top: 3rem; 
    padding: 2.5rem; 
    border-top: 2px solid #f0f2f5;
    background: linear-gradient(to bottom, transparent, #f8fafc);
    border-radius: 0 0 var(--radius) var(--radius);
}

.btn-nav {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 14px 30px;
    border-radius: 50px; /* Bordes redondeados tipo cápsula */
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: none;
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 0px rgba(0,0,0,0.1); /* Efecto de profundidad */
}

/* Botón Siguiente / Principal */
.btn-next {
    background: linear-gradient(135deg, var(--sena-orange), #ff8f00);
    color: white;
    box-shadow: 0 6px 0px #c45200; /* Sombra sólida para efecto 3D */
}

.btn-next:hover {
    transform: translateY(-3px);
    box-shadow: 0 9px 0px #c45200;
    filter: brightness(1.1);
}

.btn-next:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0px #c45200;
}

/* Estilo específico para el botón de descarga */
.btn-download {
    background: linear-gradient(135deg, #e11d48, #be123c); /* Color rojo/rubí para resaltar el PDF */
    color: white;
    text-decoration: none;
    box-shadow: 0 6px 0px #9f1239;
    font-size: 0.85rem;
}

.btn-download:hover {
    transform: translateY(-3px);
    box-shadow: 0 9px 0px #9f1239;
    filter: brightness(1.1);
    color: white;
}

.btn-download:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0px #9f1239;
}

/* Botón Anterior / Secundario */
.btn-prev {
    background: linear-gradient(135deg, var(--sena-blue), #004a73);
    color: white;
    box-shadow: 0 6px 0px #001a29;
}

.btn-prev:hover {
    transform: translateY(-3px);
    box-shadow: 0 9px 0px #001a29;
    filter: brightness(1.2);
}

.btn-prev:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0px #001a29;
}

/* Iconos animados en los botones */
.btn-nav i {
    font-size: 1.1rem;
    transition: transform 0.3s ease;
}

.btn-next:hover i {
    transform: translateX(5px);
}

.btn-prev:hover i {
    transform: translateX(-5px);
}

        /* ANIMACIÓN FINAL */
        .overlay { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(0, 32, 77, 0.95); /* Azul Sena muy oscuro y opaco */
    display: none; 
    justify-content: center; 
    align-items: center; 
    z-index: 2000; 
    flex-direction: column; 
    color: white; 
    text-align: center;
    backdrop-filter: blur(10px); /* Efecto de desenfoque al fondo */
    animation: fadeInOverlay 0.8s ease-forward;
}

@keyframes fadeInOverlay {
    from { opacity: 0; }
    to { opacity: 1; }
}

.congrats-title { 
    font-family: 'Montserrat'; 
    font-size: 5rem; /* Tamaño grande */
    color: #FFFFFF;
    text-shadow: 0 0 20px rgba(57, 169, 0, 0.8);
    margin-bottom: 10px;
    animation: scaleUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes scaleUp {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.btn-continue {
    margin-top: 30px;
    padding: 12px 25px;
    background-color: var(--sena-green);
    color: white;
    border: none;
    border-radius: 50px;
    font-family: 'Roboto';
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    transition: 0.3s;
    font-size: 0.9rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.btn-continue:hover {
    background-color: #2d8500;
    transform: translateY(-2px);
}

        @media (max-width: 992px) { .main-layout { flex-direction: column; } .sidebar { width: 100%; position: static; } }
    </style>
</head>
<body>

    <header>
       <div class="header-left">
        <img src="imagenes/Logos/sena.png" alt="SENA">
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Volver al Centro de Comando</a>
    </div>
    <h1 style="font-family:'Montserrat'; font-size: 1.1rem; color: var(--sena-blue); margin: 0 15px; text-transform: uppercase; text-align: center; flex: 1;letter-spacing: 1px;">
        Módulo 1: Narrativa Gamificada
    </h1>
    <img src="imagenes/Logos/tecnoacademia.jpeg" alt="TecnoAcademia">
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <h3><i class="fas fa-map-marked-alt"></i> Tu Ruta</h3>
            <div id="menu-1" class="menu-item active" onclick="showSection(1)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_S.png"> 1. Briefing de Misión
            </div>
            <div id="menu-2" class="menu-item" onclick="showSection(2)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_T.png"> 2. Academia Makers
            </div>
            <div id="menu-3" class="menu-item" onclick="showSection(3)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_E.png"> 3. El Mapa de Misiones
            </div>
            <div id="menu-4" class="menu-item" onclick="showSection(4)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_A.png"> 4. Código de Honor
            </div>
            <div id="menu-5" class="menu-item" onclick="showSection(5)">
                <img src="imagenes/Insignias/Pin STEAM+/Pin_M.png"> 5. Entrenamiento Mental
            </div>

	<div class="progress-container">
        <div class="progress-label">
            <span>Progreso del Módulo</span>
            <span id="progress-text">0%</span>
        </div>
        <div class="progress-bar-bg">
            <div id="progress-fill" class="progress-bar-fill"></div>
        </div>
    </div>
        </aside>

        <main class="content-area">
            
            <section id="sec-1" class="activity-section active">
                <div class="character-box">
                    <img src="imagenes/Personajes/tecnoBot/para talleres_Mesa de trabajo 1.png" alt="TecnoBot">
                    <div class="speech-bubble">
                        "¡Hola, Maker! Soy TecnoBot. Antes de entrar al taller, debemos sincronizar nuestros sistemas y entender cómo funciona nuestra Academia. ¡Lee con atención!"
                    </div>
                </div>
                
                <div class="section-header">
                    <h2>Ficha de Sincronización</h2>
                </div>

                <div class="info-grid">
                    <div class="info-card-mini"><strong>Ambiente:</strong> Laboratorio de Ingeniería / Aula Steam</div>
                    <div class="info-card-mini"><strong>Técnica:</strong> Lectura Individual</div>
                    <div class="info-card-mini"><strong>Duración:</strong> 2 Horas (1P / 1D)</div>
                    <div class="info-card-mini"><strong>Evidencia:</strong> Sopa de Letras Técnica</div>
                </div>

                <div style="background: #fff3e0; padding: 25px; border-radius: 12px; border-left: 5px solid var(--sena-orange); margin-top: 2rem;">
    <h4 style="color: var(--sena-blue); margin-bottom: 10px; text-align: center;"><i class="fas fa-lightbulb"></i> Material de Apoyo Estratégico</h4>
    <p style="font-size: 0.95rem; margin-bottom: 20px; text-align: center; color: var(--text-gray);">
        Descarga la presentación oficial para profundizar en los mundos STEAM+.
    </p>
    
    <div style="display: flex; justify-content: center;">
        <a href="documentos/Anexos/Presentación Narrativa Gamificación TecnoAcademia.pdf" 
           target="_blank" 
           class="btn-nav btn-download">
            <i class="fas fa-file-pdf"></i> Descargar Presentación PDF
        </a>
    </div>
</div>

                <div class="nav-controls">
                    <button class="btn-nav btn-prev" onclick="showSection(1)">
        <i class="fas fa-chevron-left"></i> Volver
    </button>
    <button class="btn-nav btn-next" onclick="showSection(2)">
        Siguiente Nivel <i class="fas fa-chevron-right"></i>
    </button>
                </div>
            </section>

            <section id="sec-2" class="activity-section">
                <div class="section-header">
                    <h2>¡Bienvenidos a la Academia Makers!</h2>
                </div>
                
                <p>En un mundo donde la ciencia y la tecnología se entrelazan con el heroísmo, una amenaza oscura se cierne sobre el territorio. Una avalancha de desinformación ha comenzado a sembrar el caos con herramientas tan avanzadas que ni siquiera los mejores científicos comprenden.</p>
                
                <div style="margin: 20px 0; border-radius: 12px; overflow: hidden; box-shadow: var(--shadow);">
                    <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1000&q=80" alt="Ingeniería" style="width:100%; height:250px; object-fit:cover;">
                </div>

                <div class="info-grid">
                    <div class="info-card-mini" style="border-top-color: var(--sena-green);">
                        <strong>Cultura Maker</strong>
                        Innovación a través del aprendizaje práctico (DIY - Do It Yourself) y la colaboración (DIWO - Do It With Others).
                    </div>
                    <div class="info-card-mini" style="border-top-color: var(--sena-blue);">
                        <strong>Filosofía STEAM+</strong>
                        Ciencia, Tecnología, Ingeniería, Arte y Matemáticas + Valores Humanos y Sostenibilidad (ODS).
                    </div>
                </div>

                <blockquote style="background:#f1f5f9; padding:20px; border-radius:10px; font-style:italic; border-left: 5px solid var(--sena-blue);">
                    "Lo que oigo, lo olvido; lo que veo, lo recuerdo; lo que hago, lo aprendo." - Proverbio Chino.
                </blockquote>

                <div class="nav-controls">
                
<button class="btn-nav btn-prev" onclick="showSection(1)">
        <i class="fas fa-chevron-left"></i> Volver
    </button>
    <button class="btn-nav btn-next" onclick="showSection(3)">
        Siguiente Nivel <i class="fas fa-chevron-right"></i>
    </button>

                </div>
            </section>

            <section id="sec-3" class="activity-section">
                <div class="section-header">
                    <h2>Mapa de Misiones STEAM+</h2>
                </div>
                <p style="text-align:center; margin-bottom: 2rem;">Para salvar la Academia, debes recolectar las insignias que forman la palabra STEAM+.</p>

                <div class="mission-grid">
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: var(--sena-orange); font-weight: bold;">+</span>
                        <h4>Misión 1: Reflexión</h4>
                        <p style="font-size: 0.85rem;">Protocolos de seguridad e introducción al territorio.</p>
                    </div>
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: #e11d48; font-weight: bold;">S</span>
                        <h4>Misión 2: Ciencia</h4>
                        <p style="font-size: 0.85rem;">Actividades de reflexión inicial sobre el proyecto.</p>
                    </div>
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: #2563eb; font-weight: bold;">T</span>
                        <h4>Misión 3: Tecnología</h4>
                        <p style="font-size: 0.85rem;">Contextualización e identificación de conocimientos.</p>
                    </div>
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: #16a34a; font-weight: bold;">E</span>
                        <h4>Misión 4: Ingeniería</h4>
                        <p style="font-size: 0.85rem;">Apropiación del conocimiento y modelado técnico.</p>
                    </div>
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: #9333ea; font-weight: bold;">A</span>
                        <h4>Misión 5: Arte</h4>
                        <p style="font-size: 0.85rem;">Transferencia de conocimiento: ¡Construcción del Prototipo!</p>
                    </div>
                    <div class="mission-card">
                        <span style="font-size: 2rem; color: #ca8a04; font-weight: bold;">M</span>
                        <h4>Misión 6: Matemáticas</h4>
                        <p style="font-size: 0.85rem;">Glosario técnico y cierre de la misión.</p>
                    </div>
                </div>

                <div class="nav-controls">
<button class="btn-nav btn-prev" onclick="showSection(2)">
        <i class="fas fa-chevron-left"></i> Volver
    </button>
    <button class="btn-nav btn-next" onclick="showSection(4)">
        Siguiente Nivel <i class="fas fa-chevron-right"></i>
    </button>
              
                </div>
            </section>

            <section id="sec-4" class="activity-section">
    <div style="background: linear-gradient(135deg, var(--sena-blue), #004a73); color: white; padding: 30px; border-radius: var(--radius); margin-bottom: 2rem; box-shadow: var(--shadow); position: relative; overflow: hidden;">
        <div style="position: relative; z-index: 2;">
            <h4 style="font-family: 'Montserrat'; text-transform: uppercase; letter-spacing: 2px; color: var(--sena-orange); margin-bottom: 10px;">Protocolo de Activación</h4>
            <h2 style="font-size: 2rem; margin-bottom: 15px;">Código de Honor Maker</h2>
            <p style="opacity: 0.9; font-size: 1.05rem; max-width: 800px;">
                Para ser un verdadero Guardián de la Academia, no basta con tener el conocimiento técnico; se requiere integridad, disciplina y un compromiso inquebrantable con el equipo. Este código rige nuestras acciones dentro del laboratorio.
            </p>
        </div>
        <i class="fas fa-gavel" style="position: absolute; right: -20px; bottom: -20px; font-size: 150px; opacity: 0.1; transform: rotate(-20deg);"></i>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 2rem;">
        
        <div class="info-card-mini" style="border-top: 5px solid var(--sena-orange); background: white; padding: 25px; height: 100%;">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                <div style="background: #fff3e0; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--sena-orange); font-size: 1.5rem;">
                    <i class="fas fa-users"></i>
                </div>
                <h4 style="color: var(--sena-blue); margin: 0;">Alianzas Estratégicas</h4>
            </div>
            <ul style="padding-left: 20px; font-size: 0.9rem; color: var(--text-gray);">
                <li style="margin-bottom: 10px;"><strong>Roles de Misión:</strong> Cada miembro tendrá una función vital (Líder, Técnico, Comunicador) asignada por el Facilitador.</li>
                <li style="margin-bottom: 10px;"><strong>Puntos de Liga:</strong> El éxito depende de la sincronía. Un cambio de rol sin autorización restará puntos de energía al equipo.</li>
                <li><strong>Sinergia Maker:</strong> El conocimiento se comparte. Si dominas una herramienta, ayuda a tu compañero a subir de nivel.</li>
            </ul>
        </div>

        <div class="info-card-mini" style="border-top: 5px solid var(--sena-green); background: white; padding: 25px; height: 100%;">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                <div style="background: #f0fdf4; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--sena-green); font-size: 1.5rem;">
                    <i class="fas fa-shield-virus"></i>
                </div>
                <h4 style="color: var(--sena-blue); margin: 0;">Escudos de Protección</h4>
            </div>
            <ul style="padding-left: 20px; font-size: 0.9rem; color: var(--text-gray);">
                <li style="margin-bottom: 10px;"><strong>Protocolo Cero Riesgos:</strong> Las herramientas son extensiones de tu mente, no juguetes. El uso indebido desactiva tu permiso de laboratorio.</li>
                <li style="margin-bottom: 10px;"><strong>Validación de Energía:</strong> Ningún circuito se energiza sin la revisión del Comandante (Instructor).</li>
                <li><strong>Entorno Seguro:</strong> El orden es seguridad. Un área de trabajo limpia previene interferencias en la misión.</li>
            </ul>
        </div>
    </div>

    <div style="background: #f8fafc; border-radius: var(--radius); padding: 20px; border: 1px dashed #cbd5e1; display: flex; align-items: center; gap: 20px;">
        <div style="font-size: 2.5rem; color: #64748b;">
            <i class="fas fa-user-graduate"></i>
        </div>
        <div>
            <h5 style="margin: 0; color: var(--sena-blue);">Rango del Jugador: Aprendiz Maker</h5>
            <p style="margin: 0; font-size: 0.85rem; color: var(--text-gray);">
                Esta ruta está diseñada para mentes de 6° a 11°. Tu entrenamiento constará de <strong>144 horas</strong> de desafíos reales para alcanzar el nivel de Experto STEAM+.
            </p>
        </div>
    </div>

    <div class="nav-controls">
        <button class="btn-nav btn-prev" onclick="showSection(3)">
            <i class="fas fa-chevron-left"></i> Volver
        </button>
        <button class="btn-nav btn-next" onclick="showSection(5)">
            Entrenamiento Final <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>

            <section id="sec-5" class="activity-section">
                <div class="section-header">
                    <h2>Entrenamiento Mental: Sopa Técnica</h2>
                </div>
                <p style="text-align:center;">Encuentra las 5 palabras clave de nuestra cultura para desbloquear tu insignia.</p>
                
                <div class="wordsearch-container">
                    <div id="grid"></div>
                    <div class="word-list" id="wordList"></div>
                    <button class="btn-nav btn-next" id="checkGameBtn" style="display:none;" onclick="showFinalBadge()">
        <i class="fas fa-chevron-left"></i> Finalizar Actividad
    </button>
                </div>

                <div class="nav-controls">
                  <button class="btn-nav btn-prev" onclick="showSection(4)">
        <i class="fas fa-chevron-left"></i> Volver
    </button>
                    </div>
            </section>
        </main>
    </div>

    <div id="badgeOverlay" class="overlay">
    <h1 class="congrats-title">¡FELICITACIONES!</h1>
    <p style="font-size: 1.5rem; opacity: 0.9;">Has completado con éxito este módulo.</p>
    <p style="color: #39A900; font-weight: bold;">Tu progreso ha sido actualizado.</p>
    
    <button class="btn-continue" onclick="finishModule()">
        Volver al Inicio y Continuar <i class="fas fa-arrow-right" style="margin-left:8px;"></i>
    </button>
</div>

    <script>
        // CONFIGURACIÓN DEL CURSO
        const storageKey = 'makerCourseState';
        const currentModuleID = 1;
        const nextModuleID = 2;

        // SOPA DE LETRAS DATA
        const words = ["MAKER", "STEAM", "DISEÑO", "SENA", "TALLER"];
        let foundWords = 0;
        const gridSize = 10;
        const gridLetters = "MAKEROTLPDSTEAMUXWRDISEÑONMZASENAWQYLTALLERXKP"; // Simplificado para el ejemplo

        // Creamos una matriz de 10x10 representada en un array de 100 posiciones
        // Las palabras están ubicadas así:
        // MAKER (Fila 0), STEAM (Fila 2), DISEÑO (Fila 4), SENA (Fila 6), TALLER (Fila 8)
        function initWordSearch() {
            const gridEl = document.getElementById('grid');
            const listEl = document.getElementById('wordList');
            const size = 10;
            const gridArray = Array(100).fill('');

            // Inserción manual controlada para asegurar alineación
            const placement = {
                "MAKER": 0,   // Fila 0, Col 0
                "STEAM": 20,  // Fila 2, Col 0
                "DISEÑO": 40, // Fila 4, Col 0
                "SENA": 60,   // Fila 6, Col 0
                "TALLER": 80  // Fila 8, Col 0
            };

            // Colocar palabras en el array
            Object.keys(placement).forEach(word => {
                let startPos = placement[word];
                for (let i = 0; i < word.length; i++) {
                    gridArray[startPos + i] = word[i];
                }
            });

            // Llenar lista visual de palabras
            words.forEach(w => {
                const span = document.createElement('span');
                span.className = 'word-item';
                span.id = 'word-' + w;
                span.innerText = w;
                listEl.appendChild(span);
            });

            // Renderizar la grilla en el HTML
            for (let i = 0; i < 100; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                
                // Si el espacio está vacío, poner letra aleatoria
                if (gridArray[i] === '') {
                    cell.innerText = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                } else {
                    cell.innerText = gridArray[i];
                    cell.dataset.word = "true"; // Marca interna para validación
                }

                cell.onclick = function() {
                    this.classList.toggle('selected');
                    checkGameProgress();
                };
                gridEl.appendChild(cell);
            }
        }

        // Simulación de validación para efectos del prototipo
       function checkGameProgress() {
            const selectedCells = document.querySelectorAll('.cell.selected');
            const correctSelected = Array.from(selectedCells).filter(c => c.dataset.word === "true");

            // Si el usuario selecciona suficientes letras correctas (25 letras en total para estas 5 palabras)
            if (correctSelected.length >= 25) {
                correctSelected.forEach(c => {
                    c.classList.remove('selected');
                    c.classList.add('found');
                });
                document.getElementById('checkGameBtn').style.display = 'block';
                document.querySelectorAll('.word-item').forEach(item => item.classList.add('found'));
            }
	}

        function showSection(id) {
    document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
    document.getElementById('menu-' + id).classList.add('active');
    document.querySelectorAll('.activity-section').forEach(sec => sec.classList.remove('active'));
    document.getElementById('sec-' + id).classList.add('active');
    
    // Llamar a la actualización de la barra
    updateProgressBar(id);

    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Nueva función para calcular el progreso
function updateProgressBar(currentStep) {
    const totalSteps = 5; // Tienes 5 ítems en el menú
    const percentage = (currentStep / totalSteps) * 100;
    
    document.getElementById('progress-fill').style.width = percentage + '%';
    document.getElementById('progress-text').innerText = Math.round(percentage) + '%';

}



        function showFinalBadge() {
            document.getElementById('badgeOverlay').style.display = 'flex';
        }

        function finishModule() {
    // 1. Obtener el estado actual o crear uno nuevo si no existe
    let state = JSON.parse(localStorage.getItem(storageKey)) || {
        completedModules: [],
        unlockedModules: [1],
        progress: 0
    };

    // 2. Agregar este módulo a completados si no estaba
    if (!state.completedModules.includes(currentModuleID)) {
        state.completedModules.push(currentModuleID);
    }

    // 3. Desbloquear el siguiente módulo
    if (!state.unlockedModules.includes(nextModuleID)) {
        state.unlockedModules.push(nextModuleID);
    }

    // 4. Guardar en localStorage
    localStorage.setItem(storageKey, JSON.stringify(state));

    // 5. Redirigir al index
    window.location.href = 'index.html';
}

        window.onload = () => {
    initWordSearch();
    updateProgressBar(1); // Inicia el progreso en el paso 1
};
    </script>
</body>
</html>