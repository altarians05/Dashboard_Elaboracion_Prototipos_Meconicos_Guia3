<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 7: Evidencias de Aprendizaje</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Paleta Institucional */
            --sena-green: #39A900; 
            --sena-blue: #00324D; 
            --sena-orange: #FF6C00;
            --bg-body: #F4F6F9; 
            --bg-card: #FFFFFF; 
            --text-gray: #59667a;
            --shadow: 0 4px 20px rgba(0,0,0,0.05); 
            --radius: 12px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--bg-body); color: var(--sena-blue); line-height: 1.6; }
        
        /* HEADER */
        header { background-color: var(--bg-card); padding: 1rem 2rem; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .header-left { display: flex; align-items: center; gap: 20px; }
        .back-btn { text-decoration: none; color: var(--sena-blue); font-weight: bold; display: flex; align-items: center; gap: 10px; transition: color 0.3s; }
        .back-btn:hover { color: var(--sena-orange); }
        .module-title { font-family: 'Montserrat', sans-serif; text-transform: uppercase; letter-spacing: 1.7px; font-weight: 700; color: var(--sena-blue); text-align: center; display: none; }
        @media (min-width: 768px) { .module-title { display: block; } }

        /* CONTENIDO GENERAL */
        .container { max-width: 1000px; margin: 2rem auto; padding: 0 20px; }
        .banner-container { width: 100%; margin-bottom: 2rem; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); background: white; text-align: center; }
        .banner-container img { width: 100%; max-height: 300px; object-fit: cover; }
        
        /* TARJETAS */
        .info-card { background: var(--bg-card); border-radius: var(--radius); padding: 3rem; box-shadow: var(--shadow); border-top: 5px solid var(--sena-green); margin-bottom: 2rem; position: relative; }
        .section-title { font-family: 'Montserrat'; color: var(--sena-green); font-size: 1.5rem; margin-bottom: 1.5rem; text-transform: uppercase; display: flex; align-items: center; gap: 10px; }
        
        /* SECCIÓN 1: PRESENTACIÓN */
        .presentation-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; align-items: center; }
        @media (min-width: 768px) { .presentation-grid { grid-template-columns: 1fr 250px; } }
        .avatar-img { width: 100%; max-width: 220px; animation: float 3s ease-in-out infinite; margin: 0 auto; display: block; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        
        .meta-data { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 15px; }
        .tag { background: #e3f2fd; color: var(--sena-blue); padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; font-weight: 500; display: flex; align-items: center; gap: 5px; }
        
        .btn-download { background: var(--sena-orange); color: white; text-decoration: none; padding: 12px 25px; border-radius: 50px; display: inline-flex; align-items: center; gap: 10px; font-weight: bold; margin-top: 20px; box-shadow: 0 4px 0 #d85b00; transition: transform 0.2s; }
        .btn-download:active { transform: translateY(2px); box-shadow: 0 1px 0 #d85b00; }

        /* SECCIÓN 2: INTRO INTERACTIVA (FLIP CARDS) */
        .intro-layout { display: flex; flex-direction: column; gap: 2rem; }
        .facilitator-area { display: flex; align-items: center; gap: 20px; background: #FFF3E0; padding: 20px; border-radius: var(--radius); border-left: 5px solid var(--sena-orange); }
        .facilitator-avatar { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        .cards-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .flip-card { background-color: transparent; height: 200px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; border-radius: var(--radius); box-shadow: var(--shadow); }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: var(--radius); display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; }
        .flip-card-front { background-color: white; color: var(--sena-blue); border-bottom: 4px solid var(--sena-blue); }
        .flip-card-back { background-color: var(--sena-blue); color: white; transform: rotateY(180deg); }
        .icon-lg { font-size: 3rem; margin-bottom: 15px; color: var(--sena-green); }

        /* SECCIÓN 3: TABLA DE EVALUACIÓN RESPONSIVA */
        .table-responsive { overflow-x: auto; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; background: white; min-width: 600px; }
        th { background: var(--sena-blue); color: white; padding: 15px; text-align: left; font-family: 'Montserrat'; font-size: 0.9rem; }
        td { padding: 15px; border-bottom: 1px solid #eee; font-size: 0.9rem; vertical-align: top; }
        tr:hover { background-color: #f9f9f9; }
        .evidence-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; margin-bottom: 5px; }
        .badge-product { background: #e8f5e9; color: #2e7d32; }
        .badge-knowledge { background: #fff3e0; color: #e65100; }

        /* SECCIÓN 4: CRUCIGRAMA INTERACTIVO */
        .game-area { background: #263238; color: white; padding: 30px; border-radius: var(--radius); margin-top: 20px; }
        .game-intro { text-align: center; margin-bottom: 20px; border-bottom: 1px solid #546e7a; padding-bottom: 15px; }
        .crossword-clues { margin-bottom: 20px; }
        .clue-item { background: rgba(255,255,255,0.1); padding: 10px; margin-bottom: 10px; border-radius: 6px; display: flex; flex-direction: column; gap: 10px; }
        .clue-text { font-weight: bold; color: #81d4fa; }
        .word-input { background: rgba(0,0,0,0.3); border: 1px solid #546e7a; color: white; padding: 8px; border-radius: 4px; width: 100%; max-width: 200px; text-transform: uppercase; letter-spacing: 2px; }
        .word-input:focus { outline: none; border-color: var(--sena-green); }
        .word-input.correct { border-color: var(--sena-green); background: rgba(57, 169, 0, 0.2); }
        .feedback-msg { font-size: 0.8rem; height: 1.2rem; margin-top: 5px; color: var(--sena-orange); }

        /* OVERLAY FINALIZACION */
        #celebration-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 50, 77, 0.95);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 2000; color: white; text-align: center; padding: 20px;
        }
        .anim-congrats { font-size: 4rem; margin-bottom: 20px; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .btn-finish-nav { background: white; color: var(--sena-blue); padding: 15px 30px; border: none; border-radius: 30px; font-weight: bold; cursor: pointer; margin-top: 20px; font-size: 1.1rem; transition: 0.3s; }
        .btn-finish-nav:hover { background: var(--sena-orange); color: white; }

        /* BOTON FINAL */
        .btn-check-game { background: var(--sena-green); color: white; border: none; padding: 15px 40px; font-size: 1.1rem; border-radius: 30px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 15px rgba(57, 169, 0, 0.3); display: block; margin: 30px auto; transition: 0.3s; }
        .btn-check-game:hover { transform: scale(1.05); }

    </style>
</head>
<body>

    <header>
        <div class="header-left">
            <img src="imagenes/Logos/sena.png" alt="Logo SENA" style="height: 50px; width: auto;">
            <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Volver al Centro de Comando</a>
        </div>
        <div class="module-title">MÓDULO 7: EVIDENCIAS DE APRENDIZAJE</div>
        <img src="imagenes/Logos/tecnoacademia.jpeg" alt="Logo Tecnoacademia" style="height: 50px; width: auto;">
    </header>

    <div class="container">
        
        <div class="banner-container">
            <img src="imagenes/Fondos/Titulos_Mesa de trabajo 1 copia.png" alt="Banner Evidencias">
        </div>

        <div class="info-card">
            <div class="presentation-grid">
                <div>
                    <div class="section-title"><i class="fas fa-clipboard-check"></i> Punto de Validación Final</div>
                    <p>¡Atención Maker! Has llegado a la fase crítica de la misión. Ahora que el prototipo ha cobrado vida, es momento de <strong>demostrar su funcionalidad</strong>. En este módulo, aprenderás a validar tu creación bajo normas técnicas y, lo más importante, a <strong>documentar tu éxito</strong> mediante recursos audiovisuales para que el mundo conozca tu solución.</p>
                    
                    <div class="meta-data">
                        <span class="tag"><i class="fas fa-users"></i> Grupal / Presencial</span>
                        <span class="tag"><i class="fas fa-clock"></i> 4 Horas (Pruebas y Registro)</span>
                        <span class="tag"><i class="fas fa-shield-alt"></i> Seguridad Industrial</span>
                    </div>

                    <a href="documentos/1 - 22520106 ELABORACIÓN Y CONSTRUCCION DE PROTOTIPOS MECÁNICOS.pdf" target="_blank" class="btn-download">
                        <i class="fas fa-file-pdf"></i> Descargar Guía de Evaluación
                    </a>
                </div>
                <img src="imagenes/Personajes/TecnoBot/tecnobot megafono_Mesa de trabajo 1.png" alt="TecnoBot Informando" class="avatar-img">
            </div>
        </div>

        <div class="info-card">
            <div class="section-title"><i class="fas fa-video"></i> Evidencias de Impacto</div>
            
            <div class="intro-layout">
                <div class="facilitator-area">
                    <img src="imagenes/Personajes/Maker/facilitador electrónica.png" alt="Facilitador" class="facilitator-avatar">
                    <div>
                        <h4 style="color: var(--sena-orange); margin-bottom: 5px;">Nota del Facilitador:</h4>
                        <p style="font-size: 0.9rem; font-style: italic;">"Makers, un prototipo que no se prueba no es una solución real. Enfóquense en registrar cada prueba de calidad y en comunicar su proceso de forma clara en el video final."</p>
                    </div>
                </div>

                <div class="cards-container">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <i class="fas fa-vial icon-lg"></i>
                                <h3>Funcionalidad</h3>
                                <p style="font-size: 0.8rem; color: #777;">(Pasa el mouse)</p>
                            </div>
                            <div class="flip-card-back">
                                <h3>Pruebas Reales</h3>
                                <p>Verificar que el prototipo cumpla la tarea para la que fue diseñado sin fallos mecánicos.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <i class="fas fa-camera-retro icon-lg"></i>
                                <h3>Documentación</h3>
                                <p style="font-size: 0.8rem; color: #777;">(Pasa el mouse)</p>
                            </div>
                            <div class="flip-card-back">
                                <h3>Registro Visual</h3>
                                <p>Capturar en video el funcionamiento y la explicación de la solución técnica generada.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <i class="fas fa-hard-hat icon-lg"></i>
                                <h3>Seguridad</h3>
                                <p style="font-size: 0.8rem; color: #777;">(Pasa el mouse)</p>
                            </div>
                            <div class="flip-card-back">
                                <h3>Normatividad</h3>
                                <p>Asegurar que el proceso y el producto final respeten los protocolos de seguridad establecidos.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-card">
            <div class="section-title"><i class="fas fa-table"></i> Matriz de Evidencias de Aprendizaje</div>
            <p style="margin-bottom: 20px;">Este es tu tablero de entregables finales. Cumple con cada uno para certificar tu competencia.</p>
            
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th width="30%">Actividad de Aprendizaje</th>
                            <th width="25%">Evidencias de Aprendizaje</th>
                            <th width="25%">Criterios de Evaluación</th>
                            <th width="20%">Técnicas e Instrumentos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1. Realizar las pruebas de funcionalidad y calidad</strong> al prototipo físico teniendo en cuenta los criterios de seguridad.</td>
                            <td>
                                <span class="evidence-badge badge-product">Evidencia de Producto</span><br>
                                <strong>Prototipo físico funcional</strong><br>
                                <small>Entrega: Físico o Virtual</small><br>
                                <small>Fecha: Concertada con Facilitador</small>
                            </td>
                            <td>VALIDA EL PROTOTIPO ELABORADO SEGÚN PROTOCOLOS Y NORMAS TÉCNICAS.</td>
                            <td>
                                <strong>Técnica:</strong> Observación y valoración del producto.<br>
                                <strong>Instrumento:</strong> Rúbrica.
                            </td>
                        </tr>
                        <tr>
                            <td><strong>2. Documentar el proceso desarrollado</strong> por medio de un video, teniendo en cuenta la solución establecida.</td>
                            <td>
                                <span class="evidence-badge badge-knowledge" style="background:#e3f2fd; color:#1565c0;">Evidencia de Desempeño</span><br>
                                <strong>Video del proceso</strong><br>
                                <small>Entrega: Virtual / Enlace</small><br>
                                <small>Fecha: Concertada con Facilitador</small>
                            </td>
                            <td>DOCUMENTA LA SOLUCIÓN GENERADA TENIENDO EN CUENTA LA NORMATIVA Y PROCEDIMIENTOS ESTABLECIDOS.</td>
                            <td>
                                <strong>Técnica:</strong> Observación y valoración del producto.<br>
                                <strong>Instrumento:</strong> Rúbrica.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="info-card">
            <div class="section-title"><i class="fas fa-gamepad"></i> Reto Final: Claves de Validación</div>
            
            <div class="game-area">
                <div class="game-intro">
                    <h3><i class="fas fa-key"></i> Sincronización de Cierre</h3>
                    <p>Completar las palabras clave sobre la validación y documentación de tu proyecto.</p>
                </div>

                <div class="crossword-clues">
                    <div class="clue-item">
                        <label class="clue-text">1. Resultado tangible y operativo de la construcción (Prototipo...):</label>
                        <input type="text" class="word-input" id="word1" placeholder="??????">
                        <div id="msg1" class="feedback-msg"></div>
                    </div>

                    <div class="clue-item">
                        <label class="clue-text">2. Formato audiovisual requerido para documentar la solución:</label>
                        <input type="text" class="word-input" id="word2" placeholder="?????">
                        <div id="msg2" class="feedback-msg"></div>
                    </div>

                    <div class="clue-item">
                        <label class="clue-text">3. Acción de comprobar que el prototipo funciona bajo normas:</label>
                        <input type="text" class="word-input" id="word3" placeholder="??????????">
                        <div id="msg3" class="feedback-msg"></div>
                    </div>
                </div>

                <button class="btn-check-game" onclick="validateGame()">
                    <i class="fas fa-check-circle"></i> Verificar y Finalizar
                </button>
            </div>
        </div>
    </div>

    <div id="celebration-overlay">
        <div class="anim-congrats">
            <i class="fas fa-trophy" style="color: #FFD700;"></i>
        </div>
        <h1 style="font-family: 'Montserrat';">¡MISIÓN CUMPLIDA!</h1>
        <p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto;">Has definido la ruta de trabajo. Tus evidencias te guiarán en la construcción del futuro.</p>
        <p style="margin-top: 20px; color: var(--sena-green);">Módulo 8 Desbloqueado</p>
        
        <button class="btn-finish-nav" onclick="finishModule()">
            Volver al Tablero <i class="fas fa-rocket"></i>
        </button>
    </div>

    <script>
        // RESPUESTAS ACTUALIZADAS PARA EL HILO CONDUCTOR DE VALIDACIÓN
        const answers = {
            word1: ["FISICO", "FUNCIONAL"],
            word2: ["VIDEO"],
            word3: ["VALIDAR", "VALIDACION"]
        };

        function normalizeText(text) {
            return text.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();
        }

        function validateGame() {
            let score = 0;
            
            // Validar Palabra 1
            let val1 = normalizeText(document.getElementById('word1').value);
            if(answers.word1.includes(val1)) {
                document.getElementById('word1').classList.add('correct');
                document.getElementById('msg1').innerHTML = '<i class="fas fa-check"></i> ¡Correcto!';
                document.getElementById('msg1').style.color = '#39A900';
                score++;
            } else {
                document.getElementById('msg1').innerHTML = 'Pista: Empieza con F...';
            }

            // Validar Palabra 2
            let val2 = normalizeText(document.getElementById('word2').value);
            if(answers.word2.includes(val2)) {
                document.getElementById('word2').classList.add('correct');
                document.getElementById('msg2').innerHTML = '<i class="fas fa-check"></i> ¡Correcto!';
                document.getElementById('msg2').style.color = '#39A900';
                score++;
            } else {
                document.getElementById('msg2').innerHTML = 'Pista: V...O';
            }

            // Validar Palabra 3
            let val3 = normalizeText(document.getElementById('word3').value);
            if(answers.word3.includes(val3)) {
                document.getElementById('word3').classList.add('correct');
                document.getElementById('msg3').innerHTML = '<i class="fas fa-check"></i> ¡Correcto!';
                document.getElementById('msg3').style.color = '#39A900';
                score++;
            } else {
                document.getElementById('msg3').innerHTML = 'Pista: Empieza con V...';
            }

            if(score === 3) {
                showCelebration();
            } else {
                alert("Aún hay códigos incorrectos. Revisa tus pistas.");
            }
        }

        function showCelebration() {
            document.getElementById('celebration-overlay').style.display = 'flex';
        }

        function finishModule() {
            // Unificamos la llave de almacenamiento para que coincida con el sistema global
            const storageKey = 'makerCourseState'; 
            const savedState = localStorage.getItem(storageKey);
            
            // Definimos el módulo actual y el siguiente
            const currentModuleId = 7;
            const nextModuleId = 8; 

            if (savedState) {
                // Si existe un estado previo, lo actualizamos
                const state = JSON.parse(savedState);
                
                // 1. Marcar Módulo 7 como Completado
                if (!state.completedModules.includes(currentModuleId)) {
                    state.completedModules.push(currentModuleId);
                }

                // 2. Desbloquear Módulo 8
                if (!state.unlockedModules.includes(nextModuleId)) {
                    state.unlockedModules.push(nextModuleId);
                }

                // 3. Guardar y regresar
                localStorage.setItem(storageKey, JSON.stringify(state));
                window.location.href = 'index.html';
            } else {
                // Si por alguna razón el usuario entró directo sin pasar por el inicio, 
                // creamos un estado base para que no se pierda el progreso.
                const newState = {
                    unlockedModules: [1, 2, 3, 4, 5, 6, 7, 8],
                    completedModules: [7]
                };
                localStorage.setItem(storageKey, JSON.stringify(newState));
                window.location.href = 'index.html';
            }
        }
    </script>

</body>
</html>